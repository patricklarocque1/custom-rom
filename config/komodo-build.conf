# Pixel 9 Pro XL (komodo) Build Configuration
# This file contains device-specific build settings

# Device Information
DEVICE_CODENAME="komodo"
DEVICE_NAME="Pixel 9 Pro XL"
DEVICE_MANUFACTURER="Google"
DEVICE_ARCH="arm64"
DEVICE_CPU="Tensor G4"

# Kernel Configuration
KERNEL_SOURCE="kernel/google/gs/caimito"
KERNEL_CONFIG="caimito_gki_defconfig"
KERNEL_ARCH="arm64"
KERNEL_CROSS_COMPILE="aarch64-linux-android-"
KERNEL_CROSS_COMPILE_ARM32="arm-linux-androideabi-"

# Partition Layout (Android 16 / Pixel 9 Pro XL specific)
BOARD_BOOTIMAGE_PARTITION_SIZE=67108864      # 64MB
BOARD_RECOVERYIMAGE_PARTITION_SIZE=67108864  # 64MB
BOARD_DTBOIMG_PARTITION_SIZE=8388608         # 8MB
BOARD_VENDORBOOTIMAGE_PARTITION_SIZE=67108864 # 64MB

# Dynamic Partitions
BOARD_SUPER_PARTITION_SIZE=15032385536       # 14GB
BOARD_SUPER_PARTITION_GROUPS="google_dynamic_partitions"
BOARD_GOOGLE_DYNAMIC_PARTITIONS_SIZE=15028191232
BOARD_GOOGLE_DYNAMIC_PARTITIONS_PARTITION_LIST="system vendor product system_ext"

# File System Types
BOARD_SYSTEMIMAGE_FILE_SYSTEM_TYPE="ext4"
BOARD_VENDORIMAGE_FILE_SYSTEM_TYPE="ext4"
BOARD_PRODUCTIMAGE_FILE_SYSTEM_TYPE="ext4"
BOARD_SYSTEM_EXTIMAGE_FILE_SYSTEM_TYPE="ext4"

# Build Flags
TARGET_USES_64_BIT_BINDER=true
TARGET_SUPPORTS_64_BIT_APPS=true
TARGET_IS_64_BIT=true

# Security
BOARD_AVB_ENABLE=true
BOARD_AVB_MAKE_VBMETA_IMAGE_ARGS="--flags 3"

# Display
TARGET_SCREEN_DENSITY=560
TARGET_SCREEN_WIDTH=1344
TARGET_SCREEN_HEIGHT=2992

# Audio
BOARD_USES_ALSA_AUDIO=true

# Bluetooth
BOARD_HAVE_BLUETOOTH=true

# WiFi
BOARD_WLAN_DEVICE=qcwcn
WPA_SUPPLICANT_VERSION=VER_0_8_X
BOARD_WPA_SUPPLICANT_DRIVER=NL80211
BOARD_HOSTAPD_DRIVER=NL80211

# GPS
BOARD_VENDOR_QCOM_GPS_LOC_API_HARDWARE=true

# Camera
TARGET_USES_ION=true

# Sensors
TARGET_NO_SENSOR_PERMISSION_CHECK=true

# Telephony
BOARD_PROVIDES_LIBRIL=true

# Build Type Options
USER_BUILD_OPTIMIZATION=true
USERDEBUG_BUILD_OPTIMIZATION=true
ENG_BUILD_DEBUG=true

# OTA Settings
TARGET_OTA_ASSERT_DEVICE="komodo"
TARGET_RELEASETOOLS_EXTENSIONS="device/google/komodo"

# Verified Boot
BOARD_AVB_RECOVERY_KEY_PATH="external/avb/test/data/testkey_rsa4096.pem"
BOARD_AVB_RECOVERY_ALGORITHM="SHA256_RSA4096"
BOARD_AVB_RECOVERY_ROLLBACK_INDEX=1
BOARD_AVB_RECOVERY_ROLLBACK_INDEX_LOCATION=1
